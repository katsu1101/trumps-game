(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2659:(e,t,a)=>{Promise.resolve().then(a.bind(a,8990))},8990:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(5155);let l=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],s=["spade","heart","diamond","club"],n=e=>l.indexOf(e),i=e=>s.indexOf(e),o=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"random",r=e.filter(e=>e.location===t&&e.isPlayable);if(0!==r.length)switch(a){case"random":if(.5>Math.random())return;return r[Math.floor(Math.random()*r.length)];case"edge":{let e=r.map(e=>{let t=n(e.rank);return{card:e,score:Math.max(t,l.length-1-t)}});return e.sort((e,t)=>t.score-e.score),e[0].card}case"center":{let e=r.map(e=>{let t=Math.abs(n(e.rank)-6);return{card:e,score:t}});return e.sort((e,t)=>e.score-t.score),e[0].card}default:return r[0]}},c=()=>s.flatMap(e=>l.map(t=>({id:"".concat(e,"-").concat(t),suit:e,rank:t,location:"deck",isFaceUp:!1}))),d=(0,a(5453).v)((e,t)=>({npcCount:3,PASS_LIMIT:3,phase:"title",phaseSub:null,cards:[],currentTurnIndex:0,passCountMap:{player:0},finishedPlayers:[],lastPassPlayer:{},setLastPassPlayer:(t,a)=>{e({lastPassPlayer:{player:t,type:a,timestamp:Date.now()}})},resetPassCounts:()=>{e({passCountMap:{player:0}})},startGame:()=>{e({cards:c().sort(()=>Math.random()-.5),phase:"title",currentTurnIndex:0,passCountMap:{},lastPassPlayer:{},finishedPlayers:[]})},setPhase:(t,a)=>{e({phase:t,phaseSub:a})},dealCards:()=>{let a=1+t().npcCount,r=c().sort(()=>Math.random()-.5),l=Array.from({length:a},()=>[]);r.forEach((e,t)=>{l[t%a].push(e)}),e({cards:l.flatMap((e,t)=>{let a=0===t?"player":"npc".concat(t-1),r=0===t;return e.map(e=>({...e,location:a,isFaceUp:r}))})})},dealNextCard:()=>{let{cards:a,npcCount:r}=t(),l=a.findLast(e=>"deck"===e.location);if(!l)return;let s=(a.length-a.filter(e=>"deck"===e.location).length)%(1+r),n=0===s?"player":"npc".concat(s-1),i="player"===n;e({cards:a.map(e=>e.id===l.id?{...e,location:n,isFaceUp:i}:e)})},drawCard:()=>{let a=t(),r=a.cards.find(e=>"deck"===e.location);r&&e({cards:a.cards.map(e=>e.id===r.id?{...e,location:"player",isFaceUp:!0}:e)})},playNext7ToField:()=>{e({cards:t().cards.map(e=>"7"===e.rank?{...e,location:"field",isFaceUp:!0}:e)})},playNextToField:()=>{let a=t(),r=1+a.npcCount,l=a.currentTurnIndex%r,s=0===l?"player":"npc".concat(l-1),n=(()=>{switch(s){case"player":return"edge";case"npc1":return"random";case"npc2":return"center";default:return"first"}})(),i=a.cards.filter(e=>e.location===s);if(0===i.length){a.nextTurnLoop();return}let c=o(a.cards,s,n);if(!c){a.handlePass(s);return}1===i.length&&a.finishPlayer(s,"win"),e({cards:a.cards.map(e=>e.id===c.id?{...e,location:"field",isFaceUp:!0}:e)}),a.nextTurnLoop()},finishPlayer:(a,r)=>{let l=t(),s=l.finishedPlayers,n=s.filter(e=>"win"===e.reason).length,i=s.filter(e=>"giveUp"===e.reason).length,o=1+l.npcCount,c=l.cards.map(e=>e.location===a?{...e,location:"field",isFaceUp:!0}:e),d=[...s,{player:a,rank:"win"===r?n+1:o-i,reason:r,timestamp:Date.now()}];e({finishedPlayers:d,cards:c});let p=t().getRemainingPlayers();if(console.log("remainingPlayers",p),p.length<=1){let e=p.find(e=>!d.some(t=>t.player===e));e&&l.finishPlayer(e,"win")}l.nextTurnLoop()},getRemainingPlayers:()=>{let e=t(),a=e.finishedPlayers.map(e=>e.player);return["player",...Array(e.npcCount).fill(0).map((e,t)=>"npc".concat(t))].filter(e=>!a.includes(e))},handlePass:a=>{var r;let l=t(),s=null!==(r=l.passCountMap[a])&&void 0!==r?r:0;s+1>l.PASS_LIMIT?l.finishPlayer(a,"giveUp"):(e({passCountMap:{...l.passCountMap,[a]:s+1}}),l.setLastPassPlayer(a,"pass"),l.nextTurnLoop())},nextTurnLoop:()=>{let a=t(),r=1+a.npcCount,l=(a.currentTurnIndex+1)%r;for(let t=0;t<r;t++){let t=0===l?"player":"npc".concat(l-1);if(a.cards.some(e=>e.location===t)){e({currentTurnIndex:l,phaseSub:"turnLoop"});return}l=(l+1)%r}console.warn("全員が手札なし（あがり）"),e({phaseSub:"result"})},playNextToDeck:()=>{e({cards:t().cards.map(e=>({...e,location:"deck",isFaceUp:!1}))})},playUserCard:a=>{let r=t(),l=r.cards.filter(e=>"player"===e.location),s=l.find(e=>e.id===a&&e.isPlayable);if(!s)return;let n=r.cards.map(e=>e.id===s.id?{...e,location:"field",isFaceUp:!0}:e);l.length<=1&&(r.finishPlayer("player","win"),r.setLastPassPlayer("player","win")),e({cards:n}),d.setState({phaseSub:"turnLoop"}),t().nextTurnLoop()},sortPlayerHand:()=>{let a=t();e({cards:[...a.cards.filter(e=>"player"===e.location).sort((e,t)=>e.suit!==t.suit?i(e.suit)-i(t.suit):n(e.rank)-n(t.rank)),...a.cards.filter(e=>"player"!==e.location)]})},updatePlayableFlags:()=>{let a=t().cards,r=new Map;a.forEach(e=>{if("field"===e.location){let t=n(e.rank),a=r.get(e.suit)||[];r.set(e.suit,[...a,t])}}),e({cards:a.map(e=>{if("player"!==e.location&&!e.location.startsWith("npc"))return{...e,isPlayable:!1};let t=n(e.rank),a=r.get(e.suit)||[];if(!a.includes(6))return{...e,isPlayable:"7"===e.rank};let s=a.slice().sort((e,t)=>e-t),i=!1,o=6;for(;s.includes(o);)o++;o<l.length&&o===t&&(i=!0);let c=6;for(;s.includes(c);)c--;return c>=0&&c===t&&(i=!0),{...e,isPlayable:i}})})}}));var p=a(2115);function u(){let e=d(e=>e.phase),t=d(e=>e.setPhase);return((0,p.useEffect)(()=>{if("demo"!==e)return;let a=()=>t("title",null);return window.addEventListener("keydown",a),window.addEventListener("mousedown",a),()=>{window.removeEventListener("keydown",a),window.removeEventListener("mousedown",a)}},[e,t]),"demo"!==e)?null:(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center pointer-events-none z-50",children:(0,r.jsx)("p",{className:"text-white text-xl text-center animate-pulse bg-black/50 px-4 py-2 rounded shadow-md",children:"デモ中です（キーを押すとタイトルへ戻ります）"})})}let f={1:[{top:"50%",left:"50%"}],2:[{top:"20%",left:"50%"},{top:"80%",left:"50%"}],3:[{top:"20%",left:"50%"},{top:"50%",left:"50%"},{top:"80%",left:"50%"}],4:[{top:"20%",left:"35%"},{top:"20%",left:"65%"},{top:"80%",left:"35%"},{top:"80%",left:"65%"}],5:[{top:"20%",left:"35%"},{top:"20%",left:"65%"},{top:"50%",left:"50%"},{top:"80%",left:"35%"},{top:"80%",left:"65%"}],6:[{top:"20%",left:"35%"},{top:"50%",left:"35%"},{top:"80%",left:"35%"},{top:"20%",left:"65%"},{top:"50%",left:"65%"},{top:"80%",left:"65%"}],7:[{top:"20%",left:"35%"},{top:"50%",left:"35%"},{top:"80%",left:"35%"},{top:"20%",left:"65%"},{top:"50%",left:"65%"},{top:"80%",left:"65%"},{top:"35%",left:"50%"}],8:[{top:"20%",left:"35%"},{top:"40%",left:"35%"},{top:"60%",left:"35%"},{top:"80%",left:"35%"},{top:"20%",left:"65%"},{top:"40%",left:"65%"},{top:"60%",left:"65%"},{top:"80%",left:"65%"}],9:[{top:"20%",left:"35%"},{top:"40%",left:"35%"},{top:"60%",left:"35%"},{top:"80%",left:"35%"},{top:"20%",left:"65%"},{top:"40%",left:"65%"},{top:"60%",left:"65%"},{top:"80%",left:"65%"},{top:"50%",left:"50%"}],10:[{top:"20%",left:"35%"},{top:"35%",left:"35%"},{top:"50%",left:"35%"},{top:"65%",left:"35%"},{top:"80%",left:"35%"},{top:"20%",left:"65%"},{top:"35%",left:"65%"},{top:"50%",left:"65%"},{top:"65%",left:"65%"},{top:"80%",left:"65%"}]};var h=a(2596),x=a(6413),m=a(6766);function y(e){let{card:t,className:a,style:l,animate:s,onClick:n}=e,i={spade:"♠",heart:"♥",diamond:"♦",club:"♣"},o="heart"===t.suit||"diamond"===t.suit?"text-red-500":"text-black",c="A"==t.rank?1:parseInt(t.rank),d=!isNaN(c)&&c>=1&&c<=10;return(0,r.jsx)(x.P.div,{onClick:t.isPlayable&&n?n:void 0,layout:!0,layoutId:t.id,className:(0,h.$)("bg-white border rounded shadow-sm","w-[15vw] aspect-[0.7] min-w-[30px] max-w-[50px]","flex-shrink-0",a),style:l,animate:s,children:t.isFaceUp?(0,r.jsxs)(r.Fragment,{children:[("diamond"===t.suit||"heart"===t.suit)&&["A","J","Q","K"].includes(t.rank)&&(0,r.jsx)(m.default,{src:"".concat("/trumps-game","/img/").concat(t.suit,"_").concat(t.rank,".png"),alt:"",width:100,height:100,className:"absolute left-0 right-0 mx-auto h-auto max-h-full object-contain",style:{top:"50%",transform:"translateY(-50%)"}}),(0,r.jsxs)("div",{className:"absolute top-[5%] left-[5%] leading-none flex flex-col ".concat(o),children:[(0,r.jsx)("span",{className:(0,h.$)("font-bold text-[0.8em]","10"===t.rank&&"-translate-x-[0.2em]"),children:t.rank}),(0,r.jsx)("span",{className:"text-[0.7em]",children:i[t.suit]})]}),(0,r.jsxs)("div",{className:"absolute bottom-[5%] right-[5%] leading-none flex flex-col ".concat(o," rotate-180"),children:[(0,r.jsx)("span",{className:(0,h.$)("font-bold text-[0.8em]","10"===t.rank&&"-translate-x-[0.2em]"),children:t.rank}),(0,r.jsx)("span",{className:"text-[0.7em]",children:i[t.suit]})]}),d&&f[c]&&(0,r.jsx)("div",{className:"absolute inset-0",children:f[c].map((e,a)=>(0,r.jsx)("span",{className:(0,h.$)(1===c?"text-[1.8em]":"text-[1.2em]","absolute ".concat(o," card-font"),"w-4 h-4 rounded-full bg-white/60","flex items-center justify-center"),style:{top:e.top,left:e.left,transform:"translate(-50%, -50%)"},children:i[t.suit]},a))})]}):(0,r.jsx)("div",{className:"bg-blue-900 w-full h-full rounded"})})}let w=[{suit:"diamond",rank:"A",isFaceUp:!0,id:"diamond-A",location:"deck"},{suit:"heart",rank:"A",isFaceUp:!0,id:"heart-A",location:"deck"},{suit:"diamond",rank:"Q",isFaceUp:!0,id:"diamond-Q",location:"deck"},{suit:"heart",rank:"Q",isFaceUp:!0,id:"heart-Q",location:"deck"},{suit:"heart",rank:"J",isFaceUp:!0,id:"heart-J",location:"deck"},{suit:"diamond",rank:"K",isFaceUp:!0,id:"diamond-K",location:"deck"},{suit:"heart",rank:"K",isFaceUp:!0,id:"heart-K",location:"deck"}];function g(){let e=d(e=>e.setPhase),t=d(e=>e.playNextToDeck),a=(0,p.useRef)(!1);return(0,p.useEffect)(()=>{let r=()=>{a.current||(a.current=!0,t(),d.getState().startGame(),e("playing","dealing"))},l=setTimeout(()=>{a.current||(a.current=!0,d.getState().startGame(),e("demo","dealing"))},6e3);return window.addEventListener("keydown",r),window.addEventListener("mousedown",r),()=>{clearTimeout(l),window.removeEventListener("keydown",r),window.removeEventListener("mousedown",r)}},[t,e]),(0,r.jsxs)("div",{className:"text-nowrap flex flex-col items-center justify-center h-screen bg-gradient-to-b from-rose-50 via-rose-100 to-rose-200 text-rose-900",children:[(0,r.jsx)(x.P.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl font-bold mb-4 drop-shadow-md",children:"♥ とじょりん 7ならべ ♥"}),(0,r.jsx)("div",{className:"flex justify-center items-end gap-6 mt-8",children:w.map((e,t)=>(0,r.jsx)(x.P.div,{animate:{rotate:[-5,5,-5],y:[0,-4,0]},transition:{duration:2+.01*t,repeat:1/0,ease:"easeInOut"},children:(0,r.jsx)(y,{card:e,className:"scale-150"})},e.id))}),(0,r.jsx)("p",{className:"mt-10 text-base animate-pulse bg-white/30 text-rose-900 px-4 py-2 rounded shadow-sm",children:"クリックまたはキーを押すと開始します"})]})}let b=e=>new Promise(t=>setTimeout(t,e)),v=()=>{let e=d(e=>e.startGame),t=d(e=>e.dealNextCard),a=d(e=>e.sortPlayerHand),r=d(e=>e.playNextToField),l=d(e=>e.playNext7ToField),s=d(e=>e.playNextToDeck),n=d(e=>e.nextTurnLoop),i=d(e=>e.phase),o=d(e=>e.phaseSub),c=d(e=>e.setPhase),u=d(e=>e.currentTurnIndex);(0,p.useEffect)(()=>{let s=!1;return(async()=>{switch(o){case null:break;case"dealing":for(await b(500);!s;)if(d.getState().cards.filter(e=>"deck"===e.location).length>0)t(),await b(100);else{d.setState({phaseSub:"sortPlayerHand"});break}break;case"sortPlayerHand":a(),await b(500),d.setState({phaseSub:"autoPlace7s"});break;case"autoPlace7s":l(),await b(500),d.setState({phaseSub:"turnLoop"});break;case"turnLoop":if(await b(500),d.getState().updatePlayableFlags(),0===d.getState().cards.filter(e=>"player"===e.location||e.location.startsWith("npc")).length){await b(5e3),d.setState({phaseSub:"result"});break}if("playing"===i&&0==u){if(d.getState().updatePlayableFlags(),0===d.getState().cards.filter(e=>"player"===e.location).filter(e=>e.isPlayable).length){d.getState().handlePass("player");return}d.setState({phaseSub:"waitingInput"});return}r();break;case"result":await b(5e3),d.setState({phaseSub:"playNextToDeck"});break;case"playNextToDeck":e();break;default:console.log("phaseSub: ".concat(o))}})().then(()=>{}),()=>{s=!0}},[o,t,a,r,l,s,c,i,u,e,n])},k=()=>{let[e,t]=(0,p.useState)(0);return(0,p.useEffect)(()=>{let e=()=>t(window.innerWidth);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e};var j=a(760);let P=e=>{switch(e){case"A":return 0;case"J":return 10;case"Q":return 11;case"K":return 12;default:return parseInt(e,10)-1}},N=e=>{switch(e){case"spade":default:return 0;case"heart":return 1;case"diamond":return 2;case"club":return 3}};function S(){let e=d(e=>e.cards),t=e.filter(e=>"deck"===e.location),a=e.filter(e=>"field"===e.location),l=640>k(),s=l?24:48,n=l?36:72,i=l?2:4;return(0,r.jsxs)("div",{className:"flex h-full w-full flex-row landscape:flex-row portrait:flex-col   items-center justify-center gap-4",children:[(0,r.jsx)("div",{className:"relative flex flex-col items-center gap-1 w-20 portrait:h-[6vh]",children:(0,r.jsx)("div",{className:"relative w-16 h-24",children:(0,r.jsx)(j.N,{mode:"popLayout",children:t.map((e,t)=>(0,r.jsx)("div",{className:(0,h.$)("absolute",l?"scale-50":""),style:{top:-(.25*t),left:-(.1*t),zIndex:100+t},children:(0,r.jsx)(y,{card:e})},e.id))})})}),(0,r.jsx)("div",{className:"flex flex-col items-center flex-1 landscape:h-[55vh] portrait:h-[24vh]",children:(0,r.jsx)("div",{className:"relative h-full grid grid-cols-13 gap-[2px] p-2 rounded overflow-hidden border text-black",style:{display:"grid",gridTemplateColumns:"repeat(13, ".concat(s,"px)"),gap:"".concat(i,"px"),justifyContent:"center"},children:(0,r.jsx)(j.N,{mode:"popLayout",children:a.map((e,t)=>(0,r.jsx)(y,{card:e,className:(0,h.$)("absolute",l?"scale-50":""),style:{left:"".concat(P(e.rank)*(s+i),"px"),top:"".concat(N(e.suit)*(n+i),"px"),zIndex:t}},e.id))})})}),(0,r.jsx)("div",{className:"flex flex-col items-center gap-1"})]})}function C(e){let{cards:t,label:a,isCompact:l=!1,isActive:s=!1,isPlayer:n=!1,cardWidth:i=60,message:o="",passCount:c,passLimit:u,onCardClick:f,onPassClick:x}=e,m=d(e=>e.phaseSub),w=(0,p.useRef)(null),[g,b]=(0,p.useState)(600);(0,p.useEffect)(()=>{let e=()=>{w.current&&b(w.current.offsetWidth)};e();let t=new ResizeObserver(e);return w.current&&t.observe(w.current),()=>t.disconnect()},[]);let v=(0,p.useMemo)(()=>t.length*(l?i/2:i)<=g?l?i/2:i:Math.max((g-(l?i/2:i)-5)/(t.length-1),10),[t.length,l,i,g]);return(0,r.jsxs)("div",{className:(0,h.$)("relative flex flex-col items-center h-full w-full border border-dashed pt-3 pl-3",s?"border-yellow-400 shadow-yellow-400 shadow-md":"border-dashed border-white/30"),children:[a&&(0,r.jsx)("div",{className:"absolute z-50 bg-black/60 top-0 left-0 text-xs text-white px-1",children:a}),s&&n&&"waitingInput"===m&&(0,r.jsx)("div",{className:"absolute flex mt-2 z-50 top-8 left-0 gap-2 text-xs",children:(0,r.jsx)("button",{className:"bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600",onClick:()=>null==x?void 0:x(),children:"パス"})}),"number"==typeof c&&"number"==typeof u&&(0,r.jsx)("div",{className:"absolute z-40 top-[18px] left-0 px-1 flex gap-[1px] text-xs pointer-events-none",children:Array.from({length:u}).map((e,t)=>(0,r.jsx)("span",{className:(0,h.$)(t<u-c?"opacity-100":"opacity-30"),children:"\uD83E\uDE99"},t))}),o&&(0,r.jsx)("div",{className:"text-nowrap absolute z-40 left-1/2 -translate-x-1/2 text-sm text-white bg-red-500/80 px-2 py-1 rounded shadow",children:o}),(0,r.jsx)("div",{className:(0,h.$)("relative overflow-hidden w-full",l?"h-[55px]":"h-[85px]"),style:{width:"100%",maxWidth:"100%"},ref:w,children:(0,r.jsx)(j.N,{mode:"popLayout",children:t.map((e,a)=>{let n=t.length>1?a/(t.length-1):.5,i=-(3*Math.pow(Math.abs((n-.5)*2),2));return(0,r.jsx)(y,{card:e,className:(0,h.$)("absolute top-0",l?"scale-55":"",f&&e.isPlayable&&e.isFaceUp&&s?"cursor-pointer":""),style:{left:"".concat(g>t.length*v?a*v+(g-t.length*v)/2:0,"px"),top:"".concat((e.isPlayable&&e.isFaceUp?0:10)-i-15*!!l,"px"),zIndex:a},animate:{rotate:(n-.5)*6},onClick:()=>null==f?void 0:f(e.id)},e.id)})})})]})}function L(e){var t;let a;let{playerId:l,label:s}=e,n=d(e=>e.cards),i=d(e=>e.lastPassPlayer),o=d(e=>e.passCountMap),c=d(e=>e.finishedPlayers),u=d(e=>e.currentTurnIndex),f=k(),h=(()=>{if("player"===l)return 0===u;let e=l.match(/^npc(\d+)$/);return!!e&&u===parseInt(e[1],10)+1})(),x=n.filter(e=>e.location===l),m=d(e=>e.handlePass),y=c.find(e=>e.player===l),w=(null==y?void 0:y.reason)==="giveUp",g=(null==y?void 0:y.reason)==="win",b=(null==i?void 0:i.player)===l&&"pass"===i.type,v=d(e=>e.playUserCard);if(w||g){let e=1===y.rank?"\uD83E\uDD47":2===y.rank?"\uD83E\uDD48":3===y.rank?"\uD83E\uDD49":"".concat(y.rank,"位");a=g?"上がり！ (".concat(e,")"):"ギブアップ (".concat(e,")")}else b&&(a="パスしました");return(0,p.useEffect)(()=>{if(!i||i.player!==l)return;let e=setTimeout(()=>{d.getState().setLastPassPlayer()},1500);return()=>clearTimeout(e)},[i,l]),(0,r.jsx)("div",{className:"flex-1 flex-col items-center justify-center",children:(0,r.jsx)(C,{cards:x,label:s,isCompact:f<640,isActive:h,isPlayer:"player"===l,message:a,passCount:null!==(t=o[l])&&void 0!==t?t:0,passLimit:3,onCardClick:e=>{v(e)},onPassClick:()=>{m("player")}})})}function T(){let e=d(e=>e.npcCount),t=Array.from({length:e},(e,t)=>{let a="npc".concat(t);return(0,r.jsx)(L,{playerId:a,label:"NPC ".concat(t+1)},a)}),a=(()=>{switch(e){case 2:return"portrait:grid portrait:grid-cols-2 portrait:grid-rows-1";case 3:return"portrait:grid portrait:grid-cols-2 portrait:grid-rows-2 portrait:[&>div:nth-child(1)]:col-span-2 portrait:[&>div:nth-child(1)]:justify-center";case 4:return"portrait:grid portrait:grid-cols-2 portrait:grid-rows-2";default:return"portrait:flex portrait:flex-row"}})();return(0,r.jsx)("div",{className:"w-full landscape:flex landscape:flex-row gap-1 ".concat(a),children:t})}function E(){return(0,r.jsxs)("div",{className:"flex justify-between items-center h-full",children:[(0,r.jsx)("div",{className:"flex flex-col items-center gap-1 landscape:w-[20vw]"}),(0,r.jsx)(L,{playerId:"player",label:"\uD83E\uDDD1 プレイヤー"},"player"),(0,r.jsx)("div",{className:"flex flex-col items-center gap-1 landscape:w-[20vw]"})]})}function F(){return(0,r.jsxs)("main",{className:"flex-col h-screen bg-green-900 text-white",children:[(0,r.jsx)("section",{className:"landscape:h-[21vh] portrait:h-[20vh]",children:(0,r.jsx)(T,{})}),(0,r.jsx)("section",{className:"landscape:h-[58vh] portrait:h-[42vh]",children:(0,r.jsx)(S,{})}),(0,r.jsx)("section",{className:"landscape:h-[21vh] portrait:h-[15vh]",children:(0,r.jsx)(E,{})}),(0,r.jsx)(u,{})]})}function I(){let e=d(e=>e.phase);return(v(),"title"===e)?(0,r.jsx)(g,{}):(0,r.jsx)(F,{})}function M(){let e=(0,p.useRef)(!1);return(0,p.useEffect)(()=>{e.current||(d.getState().startGame(),e.current=!0)},[]),(0,r.jsx)(I,{})}}},e=>{var t=t=>e(e.s=t);e.O(0,[411,441,684,358],()=>t(2659)),_N_E=e.O()}]);